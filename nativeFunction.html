<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1">
  <title>Refactorii</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.63.1/lib/codemirror.css">
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.63.1/lib/codemirror.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.63.1/mode/javascript/javascript.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/9.1.3/mocha.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/4.3.4/chai.js"></script>
  <link rel="stylesheet" href="https://wbsckt3.github.io/mocha_test_cases_styles/styles.css">
</head>

<body onload="cargaInicialTestCases()">

  <div id="functionNameTitle"></div>
  <div id="explain"></div>
  <textarea id="codeEditor" rows="10" cols="50"></textarea>
  <button id="retryButton" style="display: none;" onclick="retryTests()">Reintentar</button>
  <button id="buttonTest2" onclick="openTest()" style="display: none;">Bien hecho! puedes continuar con la siguiente prueba</button>
  <button onclick="runTests()">Run</button>
  <div id="console"></div> 
  <div id="mocha"></div>
  <div id="testResults"></div>
  
  <script>
     const _0x402f39=_0xd72f;(function(_0x19bd7c,_0x19bc2d){const _0xe180b1=_0xd72f,_0x198130=_0x19bd7c();while(!![]){try{const _0x5ec927=parseInt(_0xe180b1(0xf9))/0x1*(-parseInt(_0xe180b1(0xec))/0x2)+parseInt(_0xe180b1(0x107))/0x3*(parseInt(_0xe180b1(0xe9))/0x4)+parseInt(_0xe180b1(0xd8))/0x5*(parseInt(_0xe180b1(0xfd))/0x6)+-parseInt(_0xe180b1(0xf6))/0x7*(-parseInt(_0xe180b1(0x116))/0x8)+-parseInt(_0xe180b1(0xda))/0x9+parseInt(_0xe180b1(0x115))/0xa*(parseInt(_0xe180b1(0x11e))/0xb)+parseInt(_0xe180b1(0xfc))/0xc*(-parseInt(_0xe180b1(0x128))/0xd);if(_0x5ec927===_0x19bc2d)break;else _0x198130['push'](_0x198130['shift']());}catch(_0x426d96){_0x198130['push'](_0x198130['shift']());}}}(_0x4456,0x704e4));let currentTestCase,currentTestCaseIndex;const testCases=[{'functionName':_0x402f39(0x113),'functionExplain':'Función\x20anónima\x20dentro\x20de\x20función\x20nativa:\x20Implementa\x20la\x20función\x20para\x20sumar\x20el\x20total\x20de\x20estrellas\x20de\x20todas\x20las\x20galaxias','functionResultExplain':_0x402f39(0x129),'functionCode':'function\x20testedFunction(galaxies)\x20{\x0a\x09\x09\x09var\x20totalStars\x20=\x200;\x0a\x09\x09\x09galaxies.forEach(function(stars)\x20{\x0a\x09\x09\x09\x20\x20totalStars\x20+=\x20stars;\x0a\x09\x09\x09},\x20this);\x0a\x09\x09\x09return\x20totalStars;\x0a\x09\x09\x20\x20}','tests':[{'description':_0x402f39(0xe7),'assertions':[()=>{const _0x29bcf9=_0x402f39;assert[_0x29bcf9(0x110)](testedFunction([]),0x0);}]},{'description':'Debería\x20sumar\x20el\x20total\x20de\x20estrellas\x20de\x20una\x20sola\x20galaxia','assertions':[()=>{const _0x39f2a9=_0x402f39;assert[_0x39f2a9(0x110)](testedFunction([0x3e8]),0x3e8);}]},{'description':'Debería\x20sumar\x20el\x20total\x20de\x20estrellas\x20de\x20varias\x20galaxias','assertions':[()=>{const _0x5aef24=_0x402f39;assert[_0x5aef24(0x110)](testedFunction([0x3e8,0x7d0,0xbb8]),0x1770);}]},{'description':_0x402f39(0xdd),'assertions':[()=>{const _0x1b2c69=_0x402f39;let _0x3e0f48=![];const _0x59bd7e=[0x3e8,0x7d0,0xbb8];_0x59bd7e[_0x1b2c69(0xdf)](function(_0x40f656,_0x198d29,_0x174139){const _0x271ab0=_0x1b2c69;typeof _0x40f656===_0x271ab0(0x105)&&_0x198d29>=0x0&&_0x174139===_0x59bd7e&&(_0x3e0f48=!![]);}),assert[_0x1b2c69(0x110)](_0x3e0f48,!![]);}]},{'description':'El\x20primer\x20argumento\x20de\x20la\x20función\x20forEach\x20debería\x20ser\x20un\x20número','assertions':[()=>{const _0x4cbf5b=_0x402f39,_0x5472d4=[0x3e8,0x7d0,0xbb8];_0x5472d4[_0x4cbf5b(0xdf)](function(_0x5bd263){const _0x277f1f=_0x4cbf5b;assert[_0x277f1f(0xfe)](_0x5bd263);});}]},{'description':_0x402f39(0xed),'assertions':[()=>{const _0x45b8c0=_0x402f39,_0x1bd1ba=[0x3e8,0x7d0,0xbb8];_0x1bd1ba[_0x45b8c0(0xdf)](function(_0x483c68,_0x15a53d){const _0x279626=_0x45b8c0;assert[_0x279626(0xfe)](_0x15a53d);});}]},{'description':_0x402f39(0x11f),'assertions':[()=>{const _0x146cd8=_0x402f39,_0x572629=[0x3e8,0x7d0,0xbb8];_0x572629[_0x146cd8(0xdf)](function(_0x3a9cfe,_0x14a909,_0x576f55){const _0x379c44=_0x146cd8;assert[_0x379c44(0xde)](_0x576f55);});}]}]}];function _0x4456(){const _0x363b9f=['Excelente!\x20🎉\x20haz\x20encontrado\x20los\x20tres\x20errores\x20en\x20la\x20función!\x20continúa\x20con\x20la\x20siguiente\x20prueba','keys','block','getValue','getElementById','functionExplain','number','getItem','93FxVXpY','functionCode','fromTextArea','functionResultExplain','display','retryButton','message','setValue','passes','equal','assert','codeEditor','NativeFunction','rgb(244,\x20207,\x2094)','2959490oOyYOg','88oZYxrZ','backgroundColor','bdd','stringify','Haciendo\x20pruebas...','querySelector','#4CAF50','La\x20prueba\x20ha\x20fallado:\x20','33cxriGy','El\x20tercer\x20argumento\x20de\x20la\x20función\x20forEach\x20debería\x20ser\x20un\x20array','currentTestCaseIndex','value','description','run','parse','div','originalLog','resultados','65OuySXB','Bien\x20hecho!\x20🎉\x20puede\x20seguir\x20adelante','button[onclick=\x22runTests()\x22]','55ptohff','setup','6850890WTVdod','javascript','innerHTML','La\x20función\x20forEach\x20debería\x20ser\x20llamada\x20con\x20dos\x20argumentos','isArray','forEach','testedFunction','assertions','stats','textContent','setItem','innerText','log','Debería\x20inicializar\x20la\x20suma\x20de\x20estrellas\x20en\x20cero','failures','61660XMxBAL','mocha-stats','style','2AbabxE','El\x20segundo\x20argumento\x20de\x20la\x20función\x20forEach\x20debería\x20ser\x20el\x20índice\x20actual','buttonTest2','none','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.testedFunction\x20=\x20','functionName','end','length','reload','15148rBzyBm','Error\x20al\x20ejecutar\x20las\x20pruebas:\x20','procesando...','399519VtvhDJ','tests','pruebas\x20terminadas','93516AVQSsv','147372FwqxAI','isNumber'];_0x4456=function(){return _0x363b9f;};return _0x4456();}var codeEditor=CodeMirror[_0x402f39(0x109)](document['getElementById']('codeEditor'),{'lineNumbers':!![],'mode':_0x402f39(0xdb)});function cargaInicialTestCases(){const _0x1b3fa2=_0x402f39;if(testCases[_0x1b3fa2(0xf4)]>0x0){currentTestCaseIndex=localStorage[_0x1b3fa2(0x106)](_0x1b3fa2(0x120));currentTestCaseIndex===null&&(currentTestCaseIndex=0x0,localStorage[_0x1b3fa2(0xe4)](_0x1b3fa2(0x120),currentTestCaseIndex));const _0x47e048=document[_0x1b3fa2(0x103)]('explain');codeEditor[_0x1b3fa2(0x10e)](testCases[currentTestCaseIndex][_0x1b3fa2(0x108)]),_0x47e048['textContent']=testCases[currentTestCaseIndex][_0x1b3fa2(0x104)],functionNameTitle[_0x1b3fa2(0xe3)]=testCases[currentTestCaseIndex][_0x1b3fa2(0xf2)];}}function _0xd72f(_0x4c1a89,_0x343098){const _0x44565a=_0x4456();return _0xd72f=function(_0xd72fca,_0xbd30b3){_0xd72fca=_0xd72fca-0xd8;let _0x40109d=_0x44565a[_0xd72fca];return _0x40109d;},_0xd72f(_0x4c1a89,_0x343098);}const assert=chai[_0x402f39(0x111)];mocha[_0x402f39(0xd9)](_0x402f39(0x118));function openTest(){const _0x24e05f=_0x402f39;location[_0x24e05f(0xf5)](),currentTestCaseIndex=localStorage[_0x24e05f(0x106)]('currentTestCaseIndex');const _0x4b8ec6=document[_0x24e05f(0x103)](_0x24e05f(0x112)),_0x2aaf14=document[_0x24e05f(0x103)]('explain');_0x4b8ec6[_0x24e05f(0x121)]=testCases[currentTestCaseIndex][_0x24e05f(0x108)],_0x2aaf14[_0x24e05f(0xe3)]=testCases[currentTestCaseIndex]['functionExplain'];const _0x5bf599=document[_0x24e05f(0x103)](_0x24e05f(0x10c));_0x5bf599[_0x24e05f(0xeb)][_0x24e05f(0x10b)]=_0x24e05f(0xef);const _0x3af760=document[_0x24e05f(0x11b)](_0x24e05f(0x12a));_0x3af760[_0x24e05f(0xeb)][_0x24e05f(0x10b)]=_0x24e05f(0x101);const _0x1af96c=document[_0x24e05f(0x103)](_0x24e05f(0xee));_0x1af96c[_0x24e05f(0xeb)][_0x24e05f(0x10b)]=_0x24e05f(0xef);}function runTests(){const _0x2b57cb=_0x402f39;currentTestCaseIndex=localStorage['getItem']('currentTestCaseIndex');const _0x2201c3=testCases[currentTestCaseIndex];console[_0x2b57cb(0xe6)](_0x2201c3);const _0x129248=codeEditor[_0x2b57cb(0x102)](),_0x1c601c=_0x2201c3[_0x2b57cb(0xf2)];console['log'](_0x1c601c);let _0x564289;document[_0x2b57cb(0x103)]('console')[_0x2b57cb(0xdc)]='',console['log']=function(_0x42ab9f){const _0x1cbad8=_0x2b57cb;var _0x1d5577=document[_0x1cbad8(0xf0)](_0x1cbad8(0x125));_0x1d5577['innerHTML']=_0x42ab9f,document[_0x1cbad8(0x103)]('console')['appendChild'](_0x1d5577);},console[_0x2b57cb(0x126)]=console[_0x2b57cb(0xe6)];try{eval(_0x2b57cb(0xf1)+_0x129248+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),console[_0x2b57cb(0xe6)](_0x2b57cb(0xf8)),setTimeout(()=>{const _0x3f5e12=_0x2b57cb;console[_0x3f5e12(0xe6)](_0x3f5e12(0x11a));},0xbb8),setTimeout(()=>{const _0x3c46a0=_0x2b57cb;describe('Prueba\x20para\x20'+_0x2201c3[_0x3c46a0(0xf2)],function(){const _0x3458e2=_0x3c46a0;_0x2201c3[_0x3458e2(0xfa)][_0x3458e2(0xdf)](_0x509608=>{const _0x118cae=_0x3458e2;it(_0x509608[_0x118cae(0x122)],function(){const _0x294e2f=_0x118cae;try{const _0x10f14f=window[_0x294e2f(0xe0)];_0x509608[_0x294e2f(0xe1)][_0x294e2f(0xdf)](_0x49f7ad=>{_0x49f7ad(_0x10f14f);});}catch(_0x10fbc8){throw new Error(_0x294e2f(0x11d)+_0x10fbc8[_0x294e2f(0x10d)]);}});});});const _0x5e5b8f=mocha[_0x3c46a0(0x123)]();_0x5e5b8f['on'](_0x3c46a0(0xf3),function(){const _0x50eeef=_0x3c46a0,_0x5dfe4e=_0x5e5b8f[_0x50eeef(0xe2)],_0x109a19=_0x5dfe4e[_0x50eeef(0x10f)],_0x2da3c0=_0x5dfe4e[_0x50eeef(0xe8)];if(_0x2da3c0===0x0){console[_0x50eeef(0xe6)](_0x50eeef(0xff));const _0x5eeba6=document['getElementById'](_0x50eeef(0xea));_0x5eeba6[_0x50eeef(0xeb)]['backgroundColor']=_0x50eeef(0x11c);let _0x1bbb41=JSON[_0x50eeef(0x124)](localStorage[_0x50eeef(0x106)](_0x50eeef(0x127)));!_0x1bbb41||Object[_0x50eeef(0x100)](_0x1bbb41)[_0x50eeef(0xf4)]===0x0?_0x1bbb41={[_0x1c601c]:'ok'}:_0x1bbb41[_0x1c601c]='ok';localStorage[_0x50eeef(0xe4)]('resultados',JSON[_0x50eeef(0x119)](_0x1bbb41)),currentTestCaseIndex++,localStorage['setItem']('currentTestCaseIndex',currentTestCaseIndex);const _0x3c0d2e=document[_0x50eeef(0x103)]('retryButton');_0x3c0d2e[_0x50eeef(0xeb)][_0x50eeef(0x10b)]='none';const _0xf305c0=document[_0x50eeef(0x11b)]('button[onclick=\x22runTests()\x22]');_0xf305c0[_0x50eeef(0xeb)][_0x50eeef(0x10b)]=_0x50eeef(0xef);if(testCases[_0x50eeef(0xf4)]>currentTestCaseIndex){const _0x38e3f3=document[_0x50eeef(0x103)]('buttonTest2');_0x38e3f3['style'][_0x50eeef(0x10b)]='block',_0x38e3f3['textContent']=testCases[currentTestCaseIndex-0x1][_0x50eeef(0x10a)];}else alert(_0x50eeef(0xfb));}else{console['log']('Ejemplo\x20de\x20la\x20ejecución\x20esperada:'),console[_0x50eeef(0xe6)]('Pista:\x20en\x20la\x20función\x20hay\x203\x20errores');const _0x58a11e=document[_0x50eeef(0x103)](_0x50eeef(0xea));_0x58a11e[_0x50eeef(0xeb)][_0x50eeef(0x117)]=_0x50eeef(0x114);const _0x1f1958=document[_0x50eeef(0x11b)](_0x50eeef(0x12a));_0x1f1958[_0x50eeef(0xeb)]['display']=_0x50eeef(0xef);const _0x4e7284=document[_0x50eeef(0x103)]('retryButton');_0x4e7284['style']['display']=_0x50eeef(0x101);}});},0x1388);}catch(_0x595ed8){const _0x210b63=document['getElementById']('testResults');_0x210b63[_0x2b57cb(0xe5)]=_0x2b57cb(0xf7)+_0x595ed8;}}function retryTests(){const _0x23a277=_0x402f39;location[_0x23a277(0xf5)]();}
  </script>
</body>

</html>   
